<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liveboard</title>
    <link rel="stylesheet" href="styles.css?v=20251112080000">
</head>
<body>
    <div class="container">
        <header>
            <h1>Liveboard</h1>
            <div class="header-right">
                <a href="/documentation" class="doc-link" target="_blank">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                    </svg>
                    Docs
                </a>
                <a href="/api-docs" class="doc-link" target="_blank">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 1v6m0 6v6"></path>
                        <path d="m1 12h6m6 0h6"></path>
                    </svg>
                    API
                </a>
                <a href="/keys" class="doc-link">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>
                    </svg>
                    Keys
                </a>
                <div class="status-group">
                    <div class="status server-status" id="serverStatus" title="Server: Connecting...">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect>
                            <rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect>
                            <line x1="6" y1="6" x2="6.01" y2="6"></line>
                            <line x1="6" y1="18" x2="6.01" y2="18"></line>
                        </svg>
                    </div>
                    <div class="status api-status" id="apiStatus" title="API Client: Disconnected">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <div class="content-wrapper">
                <div class="video-section">
                    <div class="video-container">
                        <div id="player"></div>
                        <div class="placeholder" id="placeholder">
                            <div class="placeholder-content">
                                <div class="play-button-3d">
                                    <div class="play-button-inner">
                                        <div class="play-triangle"></div>
                                    </div>
                                </div>
                                <p>Waiting for video URL...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Hidden dummy elements for JavaScript compatibility -->
                    <input type="hidden" id="testUrl">
                    <button id="testButton" style="display: none;"></button>
                    <button id="playNowButton" style="display: none;"></button>

                    <div class="video-controls">
                        <button id="previousBtn" class="control-btn" title="Previous">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                <polygon points="19 20 9 12 19 4 19 20"></polygon>
                                <rect x="5" y="4" width="2" height="16"></rect>
                            </svg>
                        </button>
                        <button id="playPauseBtn" class="control-btn paused" title="Play/Pause">
                            <svg class="play-icon" width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                <polygon points="5 3 19 12 5 21 5 3"></polygon>
                            </svg>
                            <svg class="pause-icon" width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                <rect x="6" y="4" width="4" height="16"></rect>
                                <rect x="14" y="4" width="4" height="16"></rect>
                            </svg>
                        </button>
                        <button id="stopBtn" class="control-btn" title="Stop">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                <rect x="6" y="6" width="12" height="12"></rect>
                            </svg>
                        </button>
                        <button id="seekForwardBtn" class="control-btn" title="Seek Forward 10s">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M13 6v12l8.5-6L13 6zm-.5 6L4 6v12l8.5-6z"></path>
                            </svg>
                        </button>
                        <button id="nextBtn" class="control-btn" title="Next">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                <polygon points="5 4 15 12 5 20 5 4"></polygon>
                                <rect x="17" y="4" width="2" height="16"></rect>
                            </svg>
                        </button>
                        <button id="seekBackBtn" class="control-btn" title="Seek Backward 10s">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"></path>
                            </svg>
                        </button>
                        <button id="fullscreenBtn" class="control-btn" title="Fullscreen">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
                            </svg>
                        </button>
                        <button id="theaterModeBtn" class="control-btn" title="Theater Mode" aria-label="Toggle theater mode" aria-pressed="false">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                <rect x="2" y="7" width="20" height="10" rx="2" ry="2"></rect>
                            </svg>
                        </button>
                        <div class="volume-control">
                            <button id="muteBtn" class="control-btn" title="Mute">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                                    <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                                    <path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>
                                </svg>
                            </button>
                            <input type="range" id="volumeSlider" min="0" max="100" value="100" class="volume-slider" title="Volume">
                            <span id="volumeValue" class="volume-value">100</span>
                        </div>
                        <button id="toggleYTControls" class="control-btn active" title="Toggle YouTube Player Controls">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="2" y="7" width="20" height="10" rx="2" ry="2"></rect>
                                <line x1="7" y1="12" x2="7.01" y2="12"></line>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <div class="bottom-panels">
                <div class="current-video">
                    <h3>Currently Playing</h3>
                    <div class="current-video-content">
                        <span id="currentUrl" data-url="">No video loaded</span>
                        <button id="currentUrlIcon" class="url-icon" title="Copy URL" style="display: none;">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
                                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="playlist-panel">
                    <div class="playlist-header">
                        <h2>Playlist</h2>
                        <div class="playlist-header-actions">
                            <button id="clearPlaylist" class="clear-btn" title="Clear Playlist">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="3 6 5 6 21 6"></polyline>
                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                    <line x1="10" y1="11" x2="10" y2="17"></line>
                                    <line x1="14" y1="11" x2="14" y2="17"></line>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div id="playlistList" class="playlist-list"></div>
                </div>

                <div class="history-panel">
                    <div class="history-header">
                        <h2>History</h2>
                        <div class="history-header-actions">
                            <button id="clearHistory" class="clear-btn" title="Clear History">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="3 6 5 6 21 6"></polyline>
                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                    <line x1="10" y1="11" x2="10" y2="17"></line>
                                    <line x1="14" y1="11" x2="14" y2="17"></line>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div id="historyList" class="history-list"></div>
                </div>
            </div>
        </main>
    </div>

    <!-- Exit Theater Mode Button -->
    <button id="exitTheaterBtn" class="exit-theater-btn" title="Exit Theater Mode" style="display: none;">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6L6 18M6 6l12 12"></path>
        </svg>
    </button>

    <!-- Exit Fullscreen Button (floating in top right) -->
    <button id="exitFullscreenBtn" class="exit-fullscreen-btn" title="Exit Fullscreen" style="display: none;">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>
        </svg>
    </button>

    <!-- Toast Notification Container -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Autoplay Enable Overlay -->
    <div id="autoplayOverlay" class="autoplay-overlay" style="display: none;">
        <div class="autoplay-prompt">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="5 3 19 12 5 21 5 3"></polygon>
            </svg>
            <h2>Enable Remote Playback</h2>
            <p>Click below to allow videos to be played remotely from other devices</p>
            <button id="enableAutoplayBtn" class="enable-autoplay-btn">Enable Playback</button>
        </div>
    </div>

    <!-- Connected Users Modal -->
    <div id="connectedUsersModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Connected Users</h2>
                <button id="closeModalBtn" class="modal-close-btn" title="Close">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div id="connectedUsersList" class="connected-users-list">
                    <p class="loading-message">Loading connected users...</p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
    <script src="app.js?v=20251112060000"></script>
</body>
</html>
